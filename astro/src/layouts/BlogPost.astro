---
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import FormattedDate from '../components/FormattedDate.astro';
import { Icon } from 'astro-icon/components';

type Props = CollectionEntry<'blog'>['data'] & {
	readingTime: { minutes: number; words: number };
};

const { title, description, pubDate, updatedDate, heroImage, readingTime } = Astro.props;
---

<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
		<style>
			.post {
				display: flex;
				flex-direction: column;
				gap: 1rem;
			}

			.head {
				display: flex;
				flex-direction: column;
				gap: 1rem;
			}

			.meta {
				display: flex;
				flex-direction: row;
				gap: 1rem;
				
				font-size: 0.9em;
				color: #626262;
			}

			.inline-container {
				display: inline-flex;
				gap: .5em;
				align-items: baseline;
			}

			.body > p:first-child {
				margin-top: 0;
			}
		</style>
	</head>

	<body>
		<main>
			<article class="post">
				<div class="head">
					<h1>{title}</h1>

					<div class="meta">
						<span class="inline-container">
							<Icon name="fa6-solid:calendar" />
							<FormattedDate date={pubDate} />
						</span>

						<span class="inline-container">
							<Icon name="fa6-solid:stopwatch" />
							<span>
								{Math.round(readingTime.minutes)} minutes to read
							</span>
						</span>
					</div>
				</div>

				<hr />

				<div class="body">
					<slot />
				</div>
			</article>
		</main>
	</body>
</html>
